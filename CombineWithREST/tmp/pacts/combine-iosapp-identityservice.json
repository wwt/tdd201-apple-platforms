{
  "consumer": {
    "name": "Combine-iOSAPP"
  },
  "provider": {
    "name": "IdentityService"
  },
  "interactions": [
    {
      "description": "A request for the profile information",
      "providerState": "A user with the correct ID exists",
      "request": {
        "method": "get",
        "path": "/me",
        "headers": {
          "Content-Type": "application/json",
          "Accept": "application/json",
          "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
        },
        "matchingRules": {
          "$.headers.Authorization": {
            "match": "regex",
            "regex": "Bearer (.*?)"
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "self": {
            "dateOfBirth": "1990-03-26T00:00:00",
            "email": "gunnerzulauf@schneider.org",
            "address": {
              "line2": "",
              "zipCode": "80202",
              "countryCode": "US",
              "line1": "111 Fake st",
              "city": "Denver",
              "stateOrProvince": "CA"
            },
            "firstName": "Joe",
            "phoneNumber": "3033033333",
            "lastName": "Blow"
          },
          "isVerified": true,
          "termsAcceptedDate": "2018-07-26T19:33:46.8381401",
          "username": "gunnerzulauf@schneider.org",
          "isTermsAccepted": true,
          "createdDate": "2018-07-26T19:33:46.6818918"
        },
        "matchingRules": {
          "$.body.self.dateOfBirth": {
            "match": "regex",
            "regex": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})"
          },
          "$.body.self.email": {
            "match": "regex",
            "regex": "(.*)@(.*)"
          },
          "$.body.self.address.line2": {
            "match": "type"
          },
          "$.body.self.address.zipCode": {
            "match": "type"
          },
          "$.body.self.address.line1": {
            "match": "type"
          },
          "$.body.self.address.city": {
            "match": "type"
          },
          "$.body.self.address.stateOrProvince": {
            "match": "type"
          },
          "$.body.self.firstName": {
            "match": "type"
          },
          "$.body.self.phoneNumber": {
            "match": "regex",
            "regex": "\\d{10}"
          },
          "$.body.self.lastName": {
            "match": "type"
          },
          "$.body.isVerified": {
            "match": "type"
          },
          "$.body.termsAcceptedDate": {
            "match": "regex",
            "regex": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)"
          },
          "$.body.username": {
            "match": "type"
          },
          "$.body.isTermsAccepted": {
            "match": "type"
          },
          "$.body.createdDate": {
            "match": "regex",
            "regex": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)"
          }
        }
      }
    },
    {
      "description": "A request for the profile information",
      "providerState": "A user with a preferred name and the correct ID exists",
      "request": {
        "method": "get",
        "path": "/me",
        "headers": {
          "Accept": "application/json",
          "Content-Type": "application/json",
          "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
        },
        "matchingRules": {
          "$.headers.Authorization": {
            "match": "regex",
            "regex": "Bearer (.*?)"
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "isTermsAccepted": true,
          "createdDate": "2018-07-26T19:33:46.6818918",
          "termsAcceptedDate": "2018-07-26T19:33:46.8381401",
          "self": {
            "phoneNumber": "3033033333",
            "dateOfBirth": "1990-03-26T00:00:00",
            "lastName": "Blow",
            "email": "archibaldshields3889@dach.org",
            "address": {
              "city": "Denver",
              "zipCode": "80202",
              "countryCode": "US",
              "line1": "111 Fake st",
              "line2": "",
              "stateOrProvince": "CA"
            },
            "preferredName": "Joey",
            "firstName": "Joe"
          },
          "isVerified": true,
          "username": "archibaldshields3889@dach.org"
        },
        "matchingRules": {
          "$.body.isTermsAccepted": {
            "match": "type"
          },
          "$.body.createdDate": {
            "match": "regex",
            "regex": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)"
          },
          "$.body.termsAcceptedDate": {
            "match": "regex",
            "regex": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)"
          },
          "$.body.self.phoneNumber": {
            "match": "regex",
            "regex": "\\d{10}"
          },
          "$.body.self.dateOfBirth": {
            "match": "regex",
            "regex": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})"
          },
          "$.body.self.lastName": {
            "match": "type"
          },
          "$.body.self.email": {
            "match": "regex",
            "regex": "(.*)@(.*)"
          },
          "$.body.self.address.city": {
            "match": "type"
          },
          "$.body.self.address.zipCode": {
            "match": "type"
          },
          "$.body.self.address.line1": {
            "match": "type"
          },
          "$.body.self.address.line2": {
            "match": "type"
          },
          "$.body.self.address.stateOrProvince": {
            "match": "type"
          },
          "$.body.self.preferredName": {
            "match": "type"
          },
          "$.body.self.firstName": {
            "match": "type"
          },
          "$.body.isVerified": {
            "match": "type"
          },
          "$.body.username": {
            "match": "type"
          }
        }
      }
    },
    {
      "description": "A request with an invalid access token",
      "providerState": "A user is not logged in",
      "request": {
        "method": "get",
        "path": "/me",
        "headers": {
          "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c",
          "Content-Type": "application/json",
          "Accept": "application/json"
        },
        "matchingRules": {
          "$.headers.Authorization": {
            "match": "regex",
            "regex": "Bearer (.*?)"
          }
        }
      },
      "response": {
        "status": 401,
        "headers": {
        }
      }
    },
    {
      "description": "A request with no access token",
      "providerState": "A user is not logged in",
      "request": {
        "method": "get",
        "path": "/me",
        "headers": {
          "Authorization": "Bearer ",
          "Content-Type": "application/json",
          "Accept": "application/json"
        },
        "matchingRules": {
          "$.headers.Authorization": {
            "match": "type"
          }
        }
      },
      "response": {
        "status": 401,
        "headers": {
        }
      }
    }
  ],
  "metadata": {
    "pactSpecification": {
      "version": "2.0.0"
    }
  }
}